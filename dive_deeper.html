<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Spotify Listening</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <!-- Include d3-sankey if using the sankey diagram -->
    <script src="https://unpkg.com/d3-sankey@0.12.3/dist/d3-sankey.min.js"></script>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="css/header.css" />
    <link rel="stylesheet" href="css/footer.css" />
    <link rel="stylesheet" href="css/layout.css" />
    <link rel="stylesheet" href="css/charts.css" />
    <link rel="stylesheet" href="css/box.css" />
    <link rel="stylesheet" href="css/search-engine.css" />
    <link rel="stylesheet" href="css/controls.css" />
  </head>
  <body>
    <div class="layout">
      <header class="header">
        <img src="/img/logo.png" class="header_logo" alt="Logo" />
        <nav class="header_nav">
          <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/top_things">Top Things</a></li>
            <li><a href="/compare">Compare</a></li>
            <li><a href="dive_deeper.html">Dive Deeper</a></li>
          </ul>
        </nav>
        <button class="button"><a>Login</a></button>
      </header>

      <main class="main">
        <!-- Section Title -->
        <section class="info">
          <h1>Dive Deeper into your Artist</h1>
        </section>

        <!-- Search Section -->
        <section class="artist_search">
          <input
            type="text"
            id="artistSearchInput"
            placeholder="Enter Artist Name"
            autocomplete="off"
          />
          <ul id="artistDropdown" class="dropdown_list"></ul>
          <button id="artistSearchBtn" class="button">Search Artist</button>
        </section>

        <!-- General Artist Info -->
        <div id="artistInfo" class="info_panel full_width"></div>

        <!-- Time Frame Controls -->
        <div class="controls">
          <div>
            <label for="yearSelect">Quick Select Year:</label>
            <select id="yearSelect"></select>
          </div>
          <div>|</div>
          <div>
            <label for="startDate">Start Date:</label>
            <input type="date" id="startDate" />
          </div>
          <div>
            <label for="endDate">End Date:</label>
            <input type="date" id="endDate" />
          </div>
          <button id="applyRangeBtn" class="button">Apply Range</button>
          <button id="resetRangeBtn" class="button">Reset Controls</button>
        </div>

        <!-- Peak Listening Section Placeholder -->
        <div class="row">
          <div id="peakListening" class="chart_container full_width">
            <h2>When You Listen to This Artist the Most</h2>
          </div>
        </div>

        <!-- Row: Sunburst & Song Distribution -->
        <div class="row">
          <div id="sunburstChart" class="chart_container">
            <h2>Album vs. Single Listening (Sunburst Chart)</h2>
          </div>
          <div id="songDistChart" class="chart_container">
            <h2>Song Distribution</h2>
            <!-- This panel will be updated on drill–down -->
          </div>
        </div>

        <!-- Row: Scatter Plot & Mood Sankey -->
        <div class="row">
          <div id="scatterChart" class="chart_container">
            <h2>Track Listening Scatter Plot</h2>
          </div>
          <div id="moodSankey" class="chart_container">
            <h2>Mood & Behavior Sankey</h2>
          </div>
        </div>
      </main>

      <footer class="footer">
        <img src="/img/logo.png" class="footer_logo" alt="Logo" />
        <nav class="footer_nav">
          <ul>
            <li><a href="/about">About</a></li>
            <li><a href="/contact">Contact</a></li>
            <li><a href="/privacy">Privacy</a></li>
          </ul>
        </nav>
        <p class="footer_text">© 2025 YourSiteName</p>
      </footer>
    </div>

    <!-- Tooltip container for sunburst -->
    <div
      id="sunburstTooltip"
      style="
        position: absolute;
        opacity: 0;
        pointer-events: none;
        background: #fff;
        padding: 5px;
        border: 1px solid #ddd;
      "
    ></div>

    <script src="scripts/deepDive.js" type="module" defer></script>
  </body>
</html>
